# =============================================================================
# MongoDB to YugabyteDB YSQL Migration Configuration
# =============================================================================

# =============================================================================
# MongoDB Connection Settings
# =============================================================================
mongo.uri=mongodb://localhost:27017
mongo.database=transaction_datastore
mongo.collection=transactions
mongo.readPreference=primaryPreferred
mongo.batchSize=1000
# Partitioning (optional)
mongo.partition.field=_id
mongo.partition.strategy=sample
# Optional aggregation pipeline (JSON array as string)
mongo.pipeline=[]

# =============================================================================
# YugabyteDB Connection Settings
# =============================================================================
yugabyte.host=localhost
yugabyte.port=5433
yugabyte.database=transaction_datastore
yugabyte.username=yugabyte
yugabyte.password=yugabyte
yugabyte.insertMode=COPY
yugabyte.copyReplace=true
yugabyte.truncateTargetTable=false

# =============================================================================
# Mapping Settings
# =============================================================================
mapping.mode=FLAT
mapping.idColumn=id
mapping.docColumn=doc
mapping.idType=TEXT

# Field-to-field mapping (only used in FLAT mode)
# table.columnMapping._id=id
# table.columnMapping.customerId=customer_id
# table.columnMapping.orderTotal=order_total
#
# Optional type casting (target column -> Spark SQL type)
# table.typeMapping.id=STRING
# table.typeMapping.order_total=DECIMAL(18,2)

# =============================================================================
# Spark Job Configuration (example)
# =============================================================================
spark.executor.instances=4
spark.executor.cores=4
spark.executor.memory=8g
spark.driver.memory=4g
spark.default.parallelism=16
spark.sql.shuffle.partitions=16


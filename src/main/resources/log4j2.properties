# Log4j2 configuration for Cassandra to YugabyteDB Migration
# WARN/ERROR only - minimal logging for production

# Root logger - WARN level (only warnings and errors)
rootLogger.level = WARN
rootLogger.appenderRef.stdout.ref = STDOUT

# Console appender
appender.stdout.type = Console
appender.stdout.name = STDOUT
appender.stdout.layout.type = PatternLayout
appender.stdout.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p [%t] %c{1}:%L - %m%n

# Suppress Spark's codegen output (the generated Scala/Java code)
logger.codegen.name = org.apache.spark.sql.catalyst.expressions.codegen
logger.codegen.level = ERROR
logger.codegen.additivity = false

# Suppress CodeGenerator timing messages
logger.codegen.timing.name = org.apache.spark.sql.catalyst.expressions.codegen.CodeGenerator
logger.codegen.timing.level = ERROR
logger.codegen.timing.additivity = false

# Suppress Spark's internal DEBUG logs
logger.spark.name = org.apache.spark
logger.spark.level = WARN
logger.spark.additivity = false

# Suppress Spark SQL Catalyst optimizer logs
logger.catalyst.name = org.apache.spark.sql.catalyst
logger.catalyst.level = WARN
logger.catalyst.additivity = false

# Suppress Spark executor internal logs
logger.executor.name = org.apache.spark.executor
logger.executor.level = WARN
logger.executor.additivity = false

# Suppress Spark scheduler logs
logger.scheduler.name = org.apache.spark.scheduler
logger.scheduler.level = WARN
logger.scheduler.additivity = false

# Suppress Spark shuffle logs
logger.shuffle.name = org.apache.spark.shuffle
logger.shuffle.level = WARN
logger.shuffle.additivity = false

# Suppress Spark storage logs
logger.storage.name = org.apache.spark.storage
logger.storage.level = WARN
logger.storage.additivity = false

# Suppress Spark network logs
logger.network.name = org.apache.spark.network
logger.network.level = WARN
logger.network.additivity = false

# Suppress Cassandra connector DEBUG logs
logger.cassandra.name = com.datastax.spark.connector
logger.cassandra.level = INFO
logger.cassandra.additivity = false

# Suppress Cassandra driver DEBUG logs
logger.cassandra.driver.name = com.datastax.oss.driver
logger.cassandra.driver.level = WARN
logger.cassandra.driver.additivity = false

# Suppress Yugabyte/PostgreSQL driver DEBUG logs
logger.postgres.name = org.postgresql
logger.postgres.level = WARN
logger.postgres.additivity = false

logger.yugabyte.name = com.yugabyte
logger.yugabyte.level = WARN
logger.yugabyte.additivity = false

# Application logs - WARN/ERROR only (change to INFO if you need migration progress)
logger.app.name = com.company.migration
logger.app.level = WARN
logger.app.additivity = false
logger.app.appenderRef.stdout.ref = STDOUT

# Optional: Keep critical migration progress at INFO (uncomment if needed)
# logger.app.progress.name = com.company.migration.execution
# logger.app.progress.level = INFO
# logger.app.progress.additivity = false
# logger.app.progress.appenderRef.stdout.ref = STDOUT


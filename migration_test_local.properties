# =============================================================================
# Cassandra to YugabyteDB Migration Configuration - LOCAL TEST
# =============================================================================

# =============================================================================
# Cassandra Connection Settings
# =============================================================================
cassandra.host=localhost
cassandra.port=9043
cassandra.localDC=datacenter1
cassandra.username=
cassandra.password=

# Cassandra Read Settings
cassandra.readTimeoutMs=120000
cassandra.fetchSizeInRows=1000
cassandra.consistencyLevel=LOCAL_ONE
cassandra.retryCount=3
cassandra.inputSplitSizeMb=64
cassandra.concurrentReads=512
cassandra.readsPerSec=0

# Cassandra Spark Connector Advanced Settings
cassandra.connection.localConnectionsPerExecutor=4
cassandra.connection.remoteConnectionsPerExecutor=1
cassandra.connection.timeoutMs=60000
cassandra.connection.keepAliveMs=30000
cassandra.connection.reconnectionDelayMs.min=1000
cassandra.connection.reconnectionDelayMs.max=60000
cassandra.connection.maxRequestsPerConnection.local=32768
cassandra.connection.maxRequestsPerConnection.remote=2000
cassandra.connection.factory=com.datastax.spark.connector.cql.DefaultConnectionFactory

# =============================================================================
# YugabyteDB Connection Settings
# =============================================================================
yugabyte.host=localhost
yugabyte.port=5433
yugabyte.database=test_keyspace
yugabyte.username=yugabyte
yugabyte.password=yugabyte

# YugabyteDB Connection Pool Settings
yugabyte.maxPoolSize=8
yugabyte.minIdle=2
yugabyte.connectionTimeout=30000
yugabyte.idleTimeout=300000
yugabyte.maxLifetime=1800000

# YugabyteDB JDBC Parameters
yugabyte.loadBalanceHosts=true
yugabyte.reWriteBatchedInserts=true
yugabyte.tcpKeepAlive=true
yugabyte.binaryTransfer=false
yugabyte.socketTimeout=0
yugabyte.loginTimeout=10

# YugabyteDB COPY Settings
yugabyte.copyBufferSize=10000
yugabyte.copyFlushEvery=10000
yugabyte.csvDelimiter=,
yugabyte.csvNull=
yugabyte.csvQuote="
yugabyte.csvEscape="

# YugabyteDB Transaction Settings
yugabyte.isolationLevel=READ_COMMITTED
yugabyte.autoCommit=false

# =============================================================================
# Spark Job Configuration (Local Mode)
# =============================================================================
spark.executor.instances=2
spark.executor.cores=2
spark.executor.memory=2g
spark.executor.memoryOverhead=512m
spark.driver.memory=2g
spark.default.parallelism=4
spark.sql.shuffle.partitions=4
spark.memory.fraction=0.6
spark.memory.storageFraction=0.3
spark.task.maxFailures=10
spark.stage.maxConsecutiveAttempts=4
spark.network.timeout=800s
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.dynamicAllocation.enabled=false

# =============================================================================
# Migration Settings
# =============================================================================
migration.jobId=migration-job-test-local
migration.checkpoint.enabled=false
migration.checkpoint.table=migration_checkpoint
migration.checkpoint.interval=10000
migration.validation.enabled=true
migration.validation.sampleSize=1000

# =============================================================================
# Table Configuration
# =============================================================================
table.source.keyspace=test_keyspace
table.source.table=customer_transactions
table.target.schema=public
table.target.table=customer_transactions
table.validate=true
